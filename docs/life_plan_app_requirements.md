# ライフプランニングアプリケーション 要件一覧書

## 1. はじめに

### 1.1. アプリケーションの目的
本アプリケーションは、ユーザーが自身のライフプランに基づいた将来の財務状況をシミュレーションし、目標達成に向けた具体的な行動計画（必要な貯蓄額、収入、支出の見直しなど）を立てることを支援することを目的とします。

### 1.2. 対象ユーザー
将来の資産形成に関心のある個人、家計管理を見直したいと考えている人。

## 2. 機能要件

### 2.1. ユーザー管理機能
* **2.1.1. アカウント登録:** メールアドレス、パスワードによるアカウント作成機能。
* **2.1.2. ログイン・ログアウト:** 登録済みアカウントでの認証機能。
* **2.1.3. プロフィール編集:** ユーザー情報の変更機能。

### 2.2. 入力機能（変数設定）
* **2.2.1. 基本情報入力**
    * 現在の年齢
    * 目標とするリタイア年齢
    * 平均寿命（デフォルト値を設定し、ユーザーが変更可能）
    * 家族構成（配偶者の有無、子供の人数・年齢）
* **2.2.2. 収入情報入力**
    * 現在の年収（手取り）
    * 今後の昇給率（年率、または年齢ごとの設定）
    * 副業収入（あれば）
    * 退職金見込み額
    * 年金受給開始年齢・見込み額（月額）
* **2.2.3. 支出情報入力**
    * **固定費（月額）**
        * 住居費（家賃、住宅ローン）
        * 水道光熱費
        * 通信費
        * 保険料
        * 教育費（子供一人あたり）
        * その他固定費
    * **変動費（月額の目安）**
        * 食費
        * 日用品費
        * 交通費
        * 趣味・娯楽費
        * 交際費
        * 医療費
        * その他変動費
* **2.2.4. 資産情報入力**
    * 現在の預貯金額
    * 現在の投資額（株式、投資信託など）
    * 投資の想定利回り（年率）
* **2.2.5. ライフイベント入力**
    * イベント種別（結婚、出産、住宅購入、車の購入・買い替え、子供の進学、海外旅行など）
    * イベント発生予定年齢
    * イベントにかかる費用（一時金、または継続的な支出）
    * （住宅購入の場合）頭金、ローン金額、ローン期間、金利

### 2.3. シミュレーション機能
* **2.3.1. 資産推移シミュレーション:** 入力された情報に基づき、ユーザーの年齢ごとの将来の資産額（預貯金、投資評価額の合計）を計算する。
* **2.3.2. キャッシュフロー計算:** 各年の収入、支出、収支を計算する。
* **2.3.3. 複数シナリオ比較機能（検討事項）:** 異なる条件（例: 昇給率の違い、支出削減額の違い）でのシミュレーション結果を比較できる機能。

### 2.4. アウトプット・分析機能
* **2.4.1. 資産推移グラフ表示:** 将来の資産額の推移を折れ線グラフなどで視覚的に表示する。
* **2.4.2. キャッシュフロー表表示:** 各年の収入、支出、年間収支、純資産残高を表形式で表示する。
* **2.4.3. 目標達成度評価:**
    * リタイア時の目標資産額に対する達成度を表示。
    * 老後資金が不足する場合、その旨を警告。
* **2.4.4. 必要貯蓄額・収入額の提示:**
    * 目標（例: リタイア時の目標資産額）を達成するために、毎月/毎年どの程度の貯蓄が必要かを表示。
    * 現在の収入・支出状況で目標達成が難しい場合、どの程度の追加収入が必要かを表示。
* **2.4.5. 変動費削減提案:**
    * 目標達成のために、現在の変動費をどの程度削減する必要があるかを提示。
    * 削減目標額と、具体的な費目ごとの見直しポイント（一般的なアドバイス）を提示（例: 「食費を〇〇円削減するには、週に一度の外食を自炊に変えてみましょう」など）。

### 2.5. データ管理機能
* **2.5.1. 入力データの保存:** ユーザーが入力した情報を保存し、後から呼び出して編集・再シミュレーションできるようにする。
* **2.5.2. シミュレーション結果の保存（検討事項）:** 過去のシミュレーション結果を保存し、比較できるようにする。

## 3. 非機能要件

### 3.1. ユーザビリティ
* 直感的でわかりやすいインターフェース。
* 入力項目が多いため、ステップ形式やアコーディオン形式などで整理し、ユーザーの負担を軽減する。
* グラフや表は見やすく、理解しやすいデザインとする。
* スマートフォン、タブレット、PCなど、異なるデバイスでの表示に最適化されたレスポンシブデザイン。

### 3.2. パフォーマンス
* シミュレーション計算は迅速に行い、ユーザーを待たせないこと（数秒以内が望ましい）。
* 画面遷移やデータ表示がスムーズであること。

### 3.3. セキュリティ
* 個人情報や財務情報を扱うため、適切なセキュリティ対策を講じる（通信の暗号化、パスワードのハッシュ化、不正アクセス対策など）。
* データは安全に保管・管理されること。

### 3.4. 拡張性・保守性
* 将来的な機能追加や修正が容易に行えるような設計とする。
* コードはモジュール化され、可読性が高く、保守しやすいものとする。

## 4. アーキテクチャ構成案

### 4.1. 全体構成
* **フロントエンド:** ユーザーインターフェース、ユーザー操作の受付、バックエンドへのAPIリクエスト。
* **バックエンド:** ビジネスロジック（シミュレーション計算）、データベースとの連携、APIの提供。
* **データベース:** ユーザー情報、入力データ、シミュレーション設定などを永続的に保存。

### 4.2. フロントエンド
* **役割:**
    * ユーザーフレンドリーな入力フォームの提供。
    * 入力値のリアルタイムバリデーション。
    * シミュレーション結果の視覚的な表示（グラフ、表）。
    * バックエンドAPIとの非同期通信。
* **技術スタック候補:** React, Vue.js, Angular などのモダンJavaScriptフレームワーク。

### 4.3. バックエンド
* **役割:**
    * ユーザー認証・認可。
    * ライフプランシミュレーションロジックの実行。
    * データベースへのデータ読み書き。
    * フロントエンドへのAPI（RESTful APIなど）提供。
* **技術スタック候補:**
    * 言語: Python (Django, Flask), Ruby (Ruby on Rails), Node.js (Express), Java (Spring Boot), Go など。
    * データベース: PostgreSQL, MySQL, MongoDB など。

## 5. 今後の改善・拡張案

* 詳細な税金・社会保険料計算
* 投資ポートフォリオ提案
* 保険の見直し提案
* 専門家相談連携
* 外部サービス連携
* 教育コンテンツ
* AIによるパーソナライズド・アドバイス

## 6. より改善するために必要な事項（明確化すべき点）

* 計算ロジックの詳細
* 変動費削減提案の具体性
* UI/UXの詳細設計
* セキュリティ要件の詳細
* 初期リリースのスコープ 
