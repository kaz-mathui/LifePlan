# LifePlan - æœªæ¥å®¶è¨ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ãƒ—ãƒª

å€‹äººã®ãƒ©ã‚¤ãƒ•ãƒ—ãƒ©ãƒ³ã«åŸºã¥ã„ãŸæœªæ¥ã®å®¶è¨ˆã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã—ã€å¯è¦–åŒ–ã™ã‚‹Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚

## ğŸ“œ ç›®æ¬¡

- [âœ¨ æ¦‚è¦](#-æ¦‚è¦)
- [ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯](#ï¸-æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯)
- [ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ](#-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ )
- [ï¿½ï¿½ ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º](#-ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º)
  - [ğŸ”§ å‰æãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«](#-å‰æãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«)
  - [ğŸš€ é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#-é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
  - [âš™ï¸ CORSè¨­å®šã«ã¤ã„ã¦](#ï¸-corsè¨­å®šã«ã¤ã„ã¦)
- [âœ… ãƒ†ã‚¹ãƒˆ](#-ãƒ†ã‚¹ãƒˆ)
- [ğŸš€ æœ¬ç•ªç’°å¢ƒï¼ˆAWSï¼‰](#-æœ¬ç•ªç’°å¢ƒaws)
- [ğŸ”„ CI/CD](#-cicd)
- [ğŸ”’ ç’°å¢ƒå¤‰æ•°ã¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ](#-ç’°å¢ƒå¤‰æ•°ã¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ)
- [ğŸ”® ä»Šå¾Œã®æ”¹å–„æ¡ˆ](#-ä»Šå¾Œã®æ”¹å–„æ¡ˆ)

## âœ¨ æ¦‚è¦

React (Create React App) ã¨ Node.js (Express) ã«ã‚ˆã‚‹ãƒ¢ãƒãƒ¬ãƒæ§‹æˆã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã™ã€‚ã‚¤ãƒ³ãƒ•ãƒ©ã¯ Terraform ã§ã‚³ãƒ¼ãƒ‰ç®¡ç†ã•ã‚Œã€AWS ä¸Šã«æ§‹ç¯‰ã•ã‚Œã¾ã™ã€‚

**ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã®ç‰¹å¾´**: ã‚¤ãƒ³ãƒ•ãƒ©ã‚’**æ°¸ç¶š** (`base`) ã¨**ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰** (`alb`) ã®2ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«åˆ†å‰²ã€‚é–‹ç™ºæ™‚é–“å¤–ã¯ `alb` ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆALB, ECSã‚µãƒ¼ãƒ“ã‚¹ç­‰ï¼‰ã‚’ `terraform destroy` ã™ã‚‹ã“ã¨ã§ã€ã‚³ã‚¹ãƒˆã‚’æœ€å°é™ã«æŠ‘ãˆã¾ã™ã€‚

```mermaid
graph TD
    subgraph "é–‹ç™ºè€…"
        A[Git Push to main]
    end

    subgraph "AWS CI/CD"
        A --> B(CodePipeline: Source)
        B --> C{CodeBuild}
        C -- ãƒ“ãƒ«ãƒ‰ & ECRã¸ãƒ—ãƒƒã‚·ãƒ¥ --> D[ECR]
        C -- ãƒ“ãƒ«ãƒ‰æƒ…å ±ã‚’S3ã¸ --> E[S3: ã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆ]
        E --> F(CodePipeline: Deploy)
    end

    subgraph "AWS æœ¬ç•ªç’°å¢ƒ"
        subgraph "base ãƒ¬ã‚¤ãƒ¤ãƒ¼ (æ°¸ç¶š)"
            D
            J[Route 53: Hosted Zone]
            L[VPC, Subnets, etc.]
            M[ECS Cluster]
            N[IAM Roles]
            O[Secrets Manager]
        end

        subgraph "alb ãƒ¬ã‚¤ãƒ¤ãƒ¼ (ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰)"
            G[ALB]
            H[ECS Fargate: Frontend]
            I[ECS Fargate: Backend]
            K[Route 53: A Record]
        end
        F -- ã‚µãƒ¼ãƒ“ã‚¹æ›´æ–° --> H & I
        O -- èª­è¾¼ --> C & I
    end
    
    subgraph "ã‚¨ãƒ³ãƒ‰ãƒ¦ãƒ¼ã‚¶ãƒ¼"
        P[ãƒ¦ãƒ¼ã‚¶ãƒ¼]
    end

    P -- app.your-domain.com --> K --> G
    G -- ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ --> H & I
    I -- DBã‚¢ã‚¯ã‚»ã‚¹ --> Q((Firebase))
    P -- èªè¨¼ --> Q
```

## ğŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒª | æŠ€è¡“ |
| :--- | :--- |
| **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰** | React, TypeScript, Create React App, pnpm, Tailwind CSS, Chart.js |
| **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰** | Node.js, Express, TypeScript, pnpm, Zod |
| **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹** | Google Firestore |
| **ã‚¤ãƒ³ãƒ•ãƒ©** | AWS (ECS Fargate, ALB, ECR, S3, Route 53), Terraform |
| **CI/CD** | AWS CodePipeline, AWS CodeBuild, GitHub Actions |

## ğŸ“‚ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
.
â”œâ”€â”€ .github/workflows/ci.yml # CI (ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ) ã®å®šç¾©
â”œâ”€â”€ backend/                 # ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Node.js/Express)
â”œâ”€â”€ frontend/                # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (React/CRA)
â”œâ”€â”€ infra/
â”‚   â”œâ”€â”€ base/                # æ°¸ç¶šã‚¤ãƒ³ãƒ•ãƒ© (VPC, ECR, ECS Clusterãªã©)
â”‚   â””â”€â”€ alb/                 # ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ© (ALB, ECS Service, CI/CDãªã©)
â”œâ”€â”€ scripts/                 # ã‚µãƒ¼ãƒ“ã‚¹èµ·å‹•ãƒ»åœæ­¢ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â””â”€â”€ pnpm-workspace.yaml
```

## ğŸ’» ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™º

### ğŸ”§ å‰æãƒ„ãƒ¼ãƒ«ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

é–‹ç™ºã‚’å§‹ã‚ã‚‹å‰ã«ã€ä»¥ä¸‹ã®ãƒ„ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãã ã•ã„ï¼š

**1. Node.js (v18+)**
```bash
# Node.jsã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (æ¨å¥¨: nvmã‚’ä½¿ç”¨)
# macOS/Linux
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install 18
nvm use 18

# Windows
# Node.jså…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
# https://nodejs.org/
```

**2. pnpm (v8+)**
```bash
# npmã‹ã‚‰ pnpm ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g pnpm

# ã¾ãŸã¯ã€Homebrewã‚’ä½¿ç”¨ (macOS)
brew install pnpm

# ã¾ãŸã¯ã€pnpmã®å…¬å¼ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’ä½¿ç”¨
curl -fsSL https://get.pnpm.io/install.sh | sh -

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
pnpm --version
```

**3. Docker**
```bash
# macOS
brew install --cask docker

# Windows/Linux
# Dockerå…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰Docker Desktopã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
# https://www.docker.com/products/docker-desktop/
```

### ğŸš€ é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

**1. ãƒªãƒã‚¸ãƒˆãƒªã®æº–å‚™**:
```bash
git clone <repository_url>
cd LifePlan
pnpm install
```

**2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š**:
å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã® `.env.example` ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ `.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€å†…å®¹ã‚’ç·¨é›†ã—ã¾ã™ã€‚
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: `cp frontend/.env.example frontend/.env`
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: `cp backend/.env.example backend/.env`
    - `SERVICE_ACCOUNT_KEY`ã«ã¯ã€Firebaseã®ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼JSONã‚’Base64ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã—ãŸæ–‡å­—åˆ—ã‚’è¨­å®šã—ã¾ã™ã€‚
    - `base64 -i path/to/serviceAccountKey.json | tr -d '\n'`

**3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•**:
```bash
pnpm dev
```
- **PCãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹**:
    - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: `http://localhost:3000`
    - ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: `http://localhost:3001`
- **å®Ÿæ©Ÿï¼ˆã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ï¼‰ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹**:
    1. PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç¢ºèªã—ã¾ã™ (`ipconfig getifaddr en0` ãªã©)ã€‚
    2. `frontend/.env` ã« `REACT_APP_BACKEND_URL=http://<ã‚ãªãŸã®PCã®IPã‚¢ãƒ‰ãƒ¬ã‚¹>:3001` ã‚’è¨­å®šã—ã¾ã™ã€‚
    3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•ã—ã¾ã™ (`pnpm dev`)ã€‚
    4. ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ `http://<ã‚ãªãŸã®PCã®IPã‚¢ãƒ‰ãƒ¬ã‚¹>:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¾ã™ã€‚

**4. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®åœæ­¢**:
```bash
pnpm dev:down
```

### âš™ï¸ CORSè¨­å®šã«ã¤ã„ã¦

**å‹•çš„CORSè¨­å®š**:
æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ç’°å¢ƒå¤‰æ•°ã‚’ä½¿ç”¨ã—ãŸæŸ”è»ŸãªCORSè¨­å®šã‚’æ¡ç”¨ã—ã¦ã„ã¾ã™ã€‚IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’å¤‰æ›´ã™ã‚‹ãŸã³ã«ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã›ã‚“ã€‚

**è¨­å®šæ–¹æ³•**:
1. **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š**: é–‹ç™ºç’°å¢ƒã§ã¯ `localhost:3000` ã¨ `127.0.0.1:3000` ãŒè‡ªå‹•çš„ã«è¨±å¯ã•ã‚Œã¾ã™ã€‚
2. **ã‚«ã‚¹ã‚¿ãƒ è¨­å®š**: å®Ÿæ©Ÿã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã«ã¯ç’°å¢ƒå¤‰æ•° `CORS_ORIGINS` ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

**å®Ÿæ©Ÿã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹è¨­å®šä¾‹**:
```bash
# backend/.env ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ 
CORS_ORIGINS=http://192.168.1.100:3000,http://10.0.0.50:3000
```

**è¨­å®šæ‰‹é †**:
1. PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ç¢ºèª:
   ```bash
   # macOS/Linux
   ipconfig getifaddr en0
   # ã¾ãŸã¯
   ifconfig | grep "inet " | grep -v 127.0.0.1
   
   # Windows
   ipconfig | findstr /i "IPv4"
   ```

2. `backend/.env` ãƒ•ã‚¡ã‚¤ãƒ«ã« `CORS_ORIGINS` ã‚’è¿½åŠ :
   ```bash
   # ä¾‹ï¼šIPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒ 192.168.1.100 ã®å ´åˆ
   CORS_ORIGINS=http://192.168.1.100:3000
   
   # è¤‡æ•°ã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒã‚ã‚‹å ´åˆï¼ˆã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šï¼‰
   CORS_ORIGINS=http://192.168.1.100:3000,http://10.0.0.50:3000
   ```

3. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’å†èµ·å‹•:
   ```bash
   pnpm dev:down
   pnpm dev
   ```

4. å®Ÿæ©Ÿã‹ã‚‰ `http://ã‚ãªãŸã®PCã®IPã‚¢ãƒ‰ãƒ¬ã‚¹:3000` ã«ã‚¢ã‚¯ã‚»ã‚¹

**ç¾åœ¨ã®å®Ÿè£…**:
```typescript
// backend/src/server.ts
const getCorsOrigins = () => {
  const isDevelopment = process.env.NODE_ENV === 'development';
  
  if (!isDevelopment) {
    // æœ¬ç•ªç’°å¢ƒã§ã¯åŒã˜ãƒ‰ãƒ¡ã‚¤ãƒ³ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã®ãŸã‚CORSè¨­å®šã¯ä¸è¦
    return [];
  }
  
  // é–‹ç™ºç’°å¢ƒã§ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®š
  const defaultOrigins = [
    'http://localhost:3000',
    'http://127.0.0.1:3000',
  ];
  
  // ç’°å¢ƒå¤‰æ•°ã‹ã‚‰ã‚«ã‚¹ã‚¿ãƒ ã‚ªãƒªã‚¸ãƒ³ã‚’è¿½åŠ 
  const customOrigins = process.env.CORS_ORIGINS 
    ? process.env.CORS_ORIGINS.split(',').map(origin => origin.trim())
    : [];
  
  return [...defaultOrigins, ...customOrigins];
};
```

**åˆ©ç‚¹**:
- IPã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå¤‰ã‚ã£ã¦ã‚‚ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒãªã„
- è¤‡æ•°ã®ãƒ‡ãƒã‚¤ã‚¹ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«è¨­å®šå¯èƒ½
- æœ¬ç•ªç’°å¢ƒã§ã¯è‡ªå‹•çš„ã«CORSåˆ¶é™ãŒé©ç”¨ã•ã‚Œã‚‹
- ç’°å¢ƒã«å¿œã˜ãŸæŸ”è»Ÿãªè¨­å®šãŒå¯èƒ½

## âœ… ãƒ†ã‚¹ãƒˆ

- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Vitest)**:
  ```bash
  # å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
  pnpm --filter lifeplan-frontend test
  # UIãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•
  pnpm --filter lifeplan-frontend test:ui
  ```
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (Jest)**:
  ```bash
  # å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
  pnpm --filter lifeplan-backend test
  # ã‚¦ã‚©ãƒƒãƒãƒ¢ãƒ¼ãƒ‰ã§èµ·å‹•
  pnpm --filter lifeplan-backend test --watch
  ```

## ğŸš€ æœ¬ç•ªç’°å¢ƒï¼ˆAWSï¼‰

**å‰æ**: AWSã‚¢ã‚«ã‚¦ãƒ³ãƒˆ, AWS CLI, å–å¾—æ¸ˆã¿ãƒ‰ãƒ¡ã‚¤ãƒ³, Firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ, GitHubãƒªãƒã‚¸ãƒˆãƒª

1.  **æ°¸ç¶šã‚¤ãƒ³ãƒ•ãƒ© (`base`) ã®ãƒ‡ãƒ—ãƒ­ã‚¤**:
    1.  **ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆç™»éŒ²**: AWS Secrets Managerã« `prd/life-plan-app/firebase` (Firebaseã‚­ãƒ¼JSON) ã¨ `dockerhub/credentials` (DockerHubã‚¢ã‚¯ã‚»ã‚¹ãƒˆãƒ¼ã‚¯ãƒ³) ã‚’ä½œæˆã—ã¾ã™ã€‚
    2.  **å¤‰æ•°è¨­å®š**: `infra/base/terraform.tfvars` ã« `domain_name` ã‚’è¨­å®šã—ã¾ã™ã€‚
    3.  **é©ç”¨**: `cd infra/base && terraform init && terraform apply` ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚

2.  **ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ã‚¤ãƒ³ãƒ•ãƒ© (`alb`) ã®ãƒ‡ãƒ—ãƒ­ã‚¤**:
    1.  **å¤‰æ•°è¨­å®š**: `infra/alb/terraform.tfvars` ã« `domain_name`, `subdomain_name`, `dockerhub_username` ã‚’è¨­å®šã—ã¾ã™ã€‚
    2.  **é©ç”¨**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆã§ `./scripts/start_services.sh` ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚
    3.  **æ‰¿èª**: AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã® `CodeStar Connections` ã§ä¿ç•™ä¸­ã®æ¥ç¶šã‚’æ‰¿èªã—ã¾ã™ã€‚
    4.  **åˆå›å®Ÿè¡Œ**: AWS `CodePipeline` ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ‰‹å‹•ã§åˆå›å®Ÿè¡Œã—ã¾ã™ã€‚

**é‹ç”¨ï¼ˆã‚³ã‚¹ãƒˆå‰Šæ¸›ï¼‰**:
- **åœæ­¢**: `./scripts/stop_services.sh` (`alb` ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ `destroy`)
- **èµ·å‹•**: `./scripts/start_services.sh` (`alb` ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ `apply`)

## ğŸ”„ CI/CD

- **CI (Pull Requestæ™‚)**: GitHub ActionsãŒ `main` ãƒ–ãƒ©ãƒ³ãƒã¸ã®PRã‚’ãƒˆãƒªã‚¬ãƒ¼ã«ã€å…¨ãƒ†ã‚¹ãƒˆã¨ãƒ“ãƒ«ãƒ‰ãƒã‚§ãƒƒã‚¯ã‚’è‡ªå‹•å®Ÿè¡Œã—ã¾ã™ã€‚ (`.github/workflows/ci.yml`)
- **CD (Mergeæ™‚)**: PRãŒãƒãƒ¼ã‚¸ã•ã‚Œã‚‹ã¨ã€AWS CodePipelineãŒ `main` ãƒ–ãƒ©ãƒ³ãƒã®æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’æ¤œçŸ¥ã—ã€ãƒ“ãƒ«ãƒ‰â†’ECRã¸ãƒ—ãƒƒã‚·ãƒ¥â†’ECSã¸ãƒ­ãƒ¼ãƒªãƒ³ã‚°ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã€ã¨ã„ã†ä¸€é€£ã®ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è‡ªå‹•ã§è¡Œã„ã¾ã™ã€‚

## ğŸ”’ ç’°å¢ƒå¤‰æ•°ã¨ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ

| ç’°å¢ƒ | è¨­å®šå ´æ‰€ | è©³ç´° |
|:---|:---|:---|
| **ãƒ­ãƒ¼ã‚«ãƒ«** | `frontend/.env`, `backend/.env` | `docker-compose.yml` ã«ã‚ˆã‚Šå„ã‚³ãƒ³ãƒ†ãƒŠã«èª­ã¿è¾¼ã¾ã‚Œã¾ã™ã€‚ |
| **æœ¬ç•ª** | AWS Secrets Manager, CodeBuild Env | Terraformã‚³ãƒ¼ãƒ‰ã«ã¯ç§˜å¯†æƒ…å ±ã‚’å«ã¾ãšã€IAMãƒ­ãƒ¼ãƒ«çµŒç”±ã§å®‰å…¨ã«èª­ã¿è¾¼ã¾ã‚Œã¾ã™ã€‚ |

## ğŸ”® ä»Šå¾Œã®æ”¹å–„æ¡ˆ

- Terraform Stateã®S3ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¸ã®ç§»è¡Œ
- ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°ç’°å¢ƒã®æ§‹ç¯‰
- CloudWatchã«ã‚ˆã‚‹ç›£è¦–ä½“åˆ¶ã®å¼·åŒ–
- HTTPSå¯¾å¿œ (ALBã¸ã®ACMè¨¼æ˜æ›¸å‰²å½“)
- CORSè¨­å®šã®ç’°å¢ƒå¤‰æ•°åŒ–ã«ã‚ˆã‚‹å‹•çš„è¨­å®š
- ESLintã¨Prettierã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰å“è³ªã®çµ±ä¸€åŒ–
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å¼·åŒ–ï¼ˆãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ãƒ»ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰
